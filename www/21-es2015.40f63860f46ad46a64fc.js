(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{hIfv:function(t,i,o){"use strict";o.r(i),o.d(i,"FavoritosPageModule",(function(){return O}));var n=o("ofXK"),e=o("3Pt+"),r=o("TEn/"),c=o("tyNb"),a=o("mrSG"),s=o("Z2Br"),b=o("fXoL"),d=o("+MCx"),u=o("vAwx");function h(t,i){if(1&t&&(b.Ob(0,"div",9),b.Ob(1,"div",10),b.pc(2),b.Nb(),b.Ob(3,"div",11),b.Mb(4,"app-tarjetas",12),b.Nb(),b.Nb()),2&t){const t=b.Yb().$implicit;b.Ab(2),b.rc(" ",t.nombre," "),b.Ab(2),b.ec("array",t.productos)}}function f(t,i){if(1&t&&(b.Ob(0,"div"),b.oc(1,h,5,2,"div",8),b.Nb()),2&t){const t=i.$implicit;b.Ab(1),b.ec("ngIf",t.productos.length>0)}}function g(t,i){if(1&t&&(b.Ob(0,"div",5),b.Ob(1,"div",6),b.Ob(2,"div",7),b.pc(3),b.Nb(),b.Nb(),b.oc(4,f,2,1,"div",1),b.Nb()),2&t){const t=b.Yb().$implicit;b.Ab(3),b.rc(" ",t.nombre," "),b.Ab(1),b.ec("ngForOf",t.subcategorias)}}function p(t,i){if(1&t&&(b.Ob(0,"div"),b.oc(1,g,5,2,"div",4),b.Nb()),2&t){const t=i.$implicit;b.Ab(1),b.ec("ngIf",t.tiene)}}function _(t,i){1&t&&(b.Ob(0,"div",13),b.Mb(1,"ion-icon",14),b.pc(2," No tienes Favoritos aun "),b.Nb())}const l=[{path:"",component:(()=>{class t{constructor(t){this.firebaseSvc=t,this.dataShow=[],this.data=[],this.productos=[],this.categorias=[],this.query=""}ngOnInit(){}ionViewWillEnter(){return Object(a.a)(this,void 0,void 0,(function*(){var t=JSON.parse(localStorage.getItem("APP_USER"));this.firebaseSvc.obtenerUniqueId("clientes",t.idunico).subscribe(t=>{this.user={},this.user=t[0],this.init()})}))}init(){return Object(a.a)(this,void 0,void 0,(function*(){this.data=[],this.dataShow=[],this.productos=[],this.user.favoritos&&(this.productos=this.user.favoritos),this.categorias=yield this.firebaseSvc.obtenerPromise("categorias"),this.categorias.forEach(t=>{const i={nombre:t.nombre,subcategorias:t.subcategorias};i.subcategorias.forEach(t=>{t.productos=this.productos.filter(i=>i.idunicoSubcategoria==t.idunico)}),this.data.push(i)}),this.buscar()}))}definirSub(t){let i=[];this.data=[];let o={nombre:"",productos:[]};return t.subcategorias.forEach(t=>{o={nombre:t.nombre,productos:t.productos},o.productos.length>0&&i.push(o)}),i}buscar(){this.dataShow=[];let t=[];this.data.forEach(i=>{let o=this.definirSub(i);this.definirSub(i),t.push({nombre:i.nombre,subcategorias:o})}),t.forEach((t,i)=>{t.subcategorias.forEach((i,o)=>{i.productos.length>0&&(t.tiene=!0)})}),console.log(t),this.dataShow=t}}return t.\u0275fac=function(i){return new(i||t)(b.Lb(s.a))},t.\u0275cmp=b.Fb({type:t,selectors:[["app-favoritos"]],decls:9,vars:2,consts:[[1,"container"],[4,"ngFor","ngForOf"],["class","container__noproductos",4,"ngIf"],[1,"container__footer"],["class","container__categorias",4,"ngIf"],[1,"container__categorias"],[1,"container__categorias__title"],[1,"container__categorias__title__text"],["class","container__subcategorias",4,"ngIf"],[1,"container__subcategorias"],[1,"container__subcategorias__title"],[1,"container__cards"],[3,"array"],[1,"container__noproductos"],["name","heart-outline"]],template:function(t,i){1&t&&(b.Ob(0,"ion-content"),b.Ob(1,"div",0),b.oc(2,p,2,1,"div",1),b.oc(3,_,3,0,"div",2),b.Ob(4,"div",3),b.pc(5,"\xa0"),b.Mb(6,"br"),b.Mb(7,"br"),b.Nb(),b.Nb(),b.Nb(),b.Mb(8,"app-tags")),2&t&&(b.Ab(2),b.ec("ngForOf",i.dataShow),b.Ab(1),b.ec("ngIf",0==(null==i.user?null:i.user.favoritos.length)))},directives:[r.c,n.k,n.l,d.a,u.a,r.d],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;position:relative}.container__footer[_ngcontent-%COMP%]{height:55px}.container__noproductos[_ngcontent-%COMP%]{width:100%;height:100%;font-size:20px;display:flex;justify-content:center;align-items:center;flex-direction:column}.container__noproductos[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:70px}.container__categorias[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.container__categorias__title[_ngcontent-%COMP%]{font-size:3.8vh;font-weight:700;padding:0 4%;margin-bottom:2%}.container__categorias__title__text[_ngcontent-%COMP%]{background:#fff;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding:1% 5%;position:relative;left:-18px;border-top-right-radius:10px;opacity:.8;border-bottom-right-radius:10px}.container__subcategorias__title[_ngcontent-%COMP%]{font-size:2.5vh;font-weight:700;padding:0 4%;margin-bottom:2%}"]}),t})()}];let v=(()=>{class t{}return t.\u0275mod=b.Jb({type:t}),t.\u0275inj=b.Ib({factory:function(i){return new(i||t)},imports:[[c.j.forChild(l)],c.j]}),t})();var m=o("j1ZV");let O=(()=>{class t{}return t.\u0275mod=b.Jb({type:t}),t.\u0275inj=b.Ib({factory:function(i){return new(i||t)},imports:[[n.b,e.b,r.n,v,m.a]]}),t})()}}]);