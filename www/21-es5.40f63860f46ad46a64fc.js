function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,n,e){return n&&_defineProperties(t.prototype,n),e&&_defineProperties(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{hIfv:function(t,n,e){"use strict";e.r(n),e.d(n,"FavoritosPageModule",(function(){return C}));var i=e("ofXK"),o=e("3Pt+"),r=e("TEn/"),a=e("tyNb"),c=e("mrSG"),s=e("Z2Br"),u=e("fXoL"),f=e("+MCx"),b=e("vAwx");function d(t,n){if(1&t&&(u.Ob(0,"div",9),u.Ob(1,"div",10),u.pc(2),u.Nb(),u.Ob(3,"div",11),u.Mb(4,"app-tarjetas",12),u.Nb(),u.Nb()),2&t){var e=u.Yb().$implicit;u.Ab(2),u.rc(" ",e.nombre," "),u.Ab(2),u.ec("array",e.productos)}}function h(t,n){if(1&t&&(u.Ob(0,"div"),u.oc(1,d,5,2,"div",8),u.Nb()),2&t){var e=n.$implicit;u.Ab(1),u.ec("ngIf",e.productos.length>0)}}function l(t,n){if(1&t&&(u.Ob(0,"div",5),u.Ob(1,"div",6),u.Ob(2,"div",7),u.pc(3),u.Nb(),u.Nb(),u.oc(4,h,2,1,"div",1),u.Nb()),2&t){var e=u.Yb().$implicit;u.Ab(3),u.rc(" ",e.nombre," "),u.Ab(1),u.ec("ngForOf",e.subcategorias)}}function p(t,n){if(1&t&&(u.Ob(0,"div"),u.oc(1,l,5,2,"div",4),u.Nb()),2&t){var e=n.$implicit;u.Ab(1),u.ec("ngIf",e.tiene)}}function g(t,n){1&t&&(u.Ob(0,"div",13),u.Mb(1,"ion-icon",14),u.pc(2," No tienes Favoritos aun "),u.Nb())}var _,v,m,w=[{path:"",component:(_=function(){function t(n){_classCallCheck(this,t),this.firebaseSvc=n,this.dataShow=[],this.data=[],this.productos=[],this.categorias=[],this.query=""}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=JSON.parse(localStorage.getItem("APP_USER")),this.firebaseSvc.obtenerUniqueId("clientes",n.idunico).subscribe((function(t){e.user={},e.user=t[0],e.init()}));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"init",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.data=[],this.dataShow=[],this.productos=[],this.user.favoritos&&(this.productos=this.user.favoritos),t.next=6,this.firebaseSvc.obtenerPromise("categorias");case 6:this.categorias=t.sent,this.categorias.forEach((function(t){var e={nombre:t.nombre,subcategorias:t.subcategorias};e.subcategorias.forEach((function(t){t.productos=n.productos.filter((function(n){return n.idunicoSubcategoria==t.idunico}))})),n.data.push(e)})),this.buscar();case 9:case"end":return t.stop()}}),t,this)})))}},{key:"definirSub",value:function(t){var n=[];this.data=[];var e={nombre:"",productos:[]};return t.subcategorias.forEach((function(t){(e={nombre:t.nombre,productos:t.productos}).productos.length>0&&n.push(e)})),n}},{key:"buscar",value:function(){var t=this;this.dataShow=[];var n=[];this.data.forEach((function(e){var i=t.definirSub(e);t.definirSub(e),n.push({nombre:e.nombre,subcategorias:i})})),n.forEach((function(t,n){t.subcategorias.forEach((function(n,e){n.productos.length>0&&(t.tiene=!0)}))})),console.log(n),this.dataShow=n}}]),t}(),_.\u0275fac=function(t){return new(t||_)(u.Lb(s.a))},_.\u0275cmp=u.Fb({type:_,selectors:[["app-favoritos"]],decls:9,vars:2,consts:[[1,"container"],[4,"ngFor","ngForOf"],["class","container__noproductos",4,"ngIf"],[1,"container__footer"],["class","container__categorias",4,"ngIf"],[1,"container__categorias"],[1,"container__categorias__title"],[1,"container__categorias__title__text"],["class","container__subcategorias",4,"ngIf"],[1,"container__subcategorias"],[1,"container__subcategorias__title"],[1,"container__cards"],[3,"array"],[1,"container__noproductos"],["name","heart-outline"]],template:function(t,n){1&t&&(u.Ob(0,"ion-content"),u.Ob(1,"div",0),u.oc(2,p,2,1,"div",1),u.oc(3,g,3,0,"div",2),u.Ob(4,"div",3),u.pc(5,"\xa0"),u.Mb(6,"br"),u.Mb(7,"br"),u.Nb(),u.Nb(),u.Nb(),u.Mb(8,"app-tags")),2&t&&(u.Ab(2),u.ec("ngForOf",n.dataShow),u.Ab(1),u.ec("ngIf",0==(null==n.user?null:n.user.favoritos.length)))},directives:[r.c,i.k,i.l,f.a,b.a,r.d],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;position:relative}.container__footer[_ngcontent-%COMP%]{height:55px}.container__noproductos[_ngcontent-%COMP%]{width:100%;height:100%;font-size:20px;display:flex;justify-content:center;align-items:center;flex-direction:column}.container__noproductos[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:70px}.container__categorias[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.container__categorias__title[_ngcontent-%COMP%]{font-size:3.8vh;font-weight:700;padding:0 4%;margin-bottom:2%}.container__categorias__title__text[_ngcontent-%COMP%]{background:#fff;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding:1% 5%;position:relative;left:-18px;border-top-right-radius:10px;opacity:.8;border-bottom-right-radius:10px}.container__subcategorias__title[_ngcontent-%COMP%]{font-size:2.5vh;font-weight:700;padding:0 4%;margin-bottom:2%}"]}),_)}],O=((v=function t(){_classCallCheck(this,t)}).\u0275mod=u.Jb({type:v}),v.\u0275inj=u.Ib({factory:function(t){return new(t||v)},imports:[[a.j.forChild(w)],a.j]}),v),y=e("j1ZV"),C=((m=function t(){_classCallCheck(this,t)}).\u0275mod=u.Jb({type:m}),m.\u0275inj=u.Ib({factory:function(t){return new(t||m)},imports:[[i.b,o.b,r.n,O,y.a]]}),m)}}]);