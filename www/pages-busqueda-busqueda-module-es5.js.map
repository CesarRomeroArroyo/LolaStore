{"version":3,"sources":["webpack:///src/app/pages/busqueda/busqueda.page.html","webpack:///src/app/pages/busqueda/busqueda-routing.module.ts","webpack:///src/app/pages/busqueda/busqueda.module.ts","webpack:///src/app/pages/busqueda/busqueda.page.scss","webpack:///src/app/pages/busqueda/busqueda.page.ts"],"names":["routes","path","component","BusquedaPageRoutingModule","imports","forChild","exports","BusquedaPageModule","declarations","BusquedaPage","firebaseSvc","dataShow","data","productos","categorias","query","init","obtenerPromise","forEach","element","nombre","subcategorias","sub","filter","producto","idunicoSubcategoria","idunico","push","categoria","dataReturn","subcategoria","prod","toUpperCase","indexOf","length","cat","definirSub","index","selector","template"],"mappings":"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","file":"pages-busqueda-busqueda-module-es5.js","sourcesContent":["export default \"<ion-content>\\n\\t<div class=\\\"container\\\">\\n\\t\\t<div class=\\\"container__search animate__animated animate__pulse\\\">\\n\\t\\t\\t<input class=\\\"container__search__input\\\" type=\\\"text\\\" placeholder=\\\"Buscar...\\\" name=\\\"search\\\"\\n\\t\\t\\t\\t[(ngModel)]=\\\"query\\\" (keyup)=\\\"buscar()\\\">\\n\\t\\t\\t<span class=\\\"container__search__icon\\\"><i class=\\\"fa fa-search\\\" aria-hidden=\\\"true\\\"></i></span>\\n\\t\\t</div>\\n\\n\\t\\t<div *ngFor=\\\"let categoria of dataShow\\\">\\n\\t\\t\\t<div class=\\\"container__categorias\\\" *ngIf=\\\"categoria.tiene\\\">\\n\\t\\t\\t\\t<div class=\\\"container__categorias__title animate__animated animate__backInUp\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"container__categorias__title__text\\\">\\n\\t\\t\\t\\t\\t\\t{{categoria.nombre}}\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div *ngFor=\\\"let subcategoria of categoria.subcategorias\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"container__subcategorias\\\" *ngIf=\\\"subcategoria.productos.length > 0\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"container__subcategorias__title animate__animated animate__backInUp\\\">\\n\\t\\t\\t\\t\\t\\t\\t{{subcategoria.nombre}}\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"container__cards\\\">\\n\\t\\t\\t\\t\\t\\t\\t<app-tarjetas [array]=\\\"subcategoria.productos\\\"></app-tarjetas>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n</ion-content>\\n\\n<app-tags></app-tags>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { BusquedaPage } from './busqueda.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BusquedaPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class BusquedaPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { ComponentsModule } from '@components/components.module';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { BusquedaPageRoutingModule } from './busqueda-routing.module';\n\nimport { BusquedaPage } from './busqueda.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    BusquedaPageRoutingModule,\n    ComponentsModule\n  ],\n  declarations: [BusquedaPage]\n})\nexport class BusquedaPageModule {}\n","export default \".container {\\n  min-height: 100%;\\n  width: 100%;\\n  padding: 22% 0;\\n}\\n.container__search {\\n  background: #f7d8dd;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  position: fixed;\\n  box-shadow: 0px 0px 3px 1px var(--ion-color-primary);\\n  padding: 4% 0;\\n  width: 100%;\\n  z-index: 10;\\n  top: 0;\\n}\\n.container__search__input {\\n  position: relative;\\n  right: -20px;\\n  padding: 6px 12px;\\n  line-height: 1.42857143;\\n  border: 1px solid #ccc;\\n  border-radius: 20px;\\n  border: 1px solid var(--ion-color-primary);\\n  box-shadow: 0px 0px 3px 1px var(--ion-color-primary);\\n}\\n.container__search__icon {\\n  padding: 9px 12px;\\n  color: var(--ion-color-light);\\n  background-color: var(--ion-color-gray-light);\\n  border: 1px solid var(--ion-color-gray-light);\\n  border-radius: 20px;\\n  position: relative;\\n  right: 8px;\\n}\\n.container__categorias__title {\\n  font-size: 3.8vh;\\n  font-weight: bold;\\n  padding: 0 4%;\\n  margin-bottom: 2%;\\n}\\n.container__categorias__title__text {\\n  background: white;\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  padding: 1% 5%;\\n  position: relative;\\n  left: -18px;\\n  border-top-right-radius: 10px;\\n  opacity: 0.8;\\n  border-bottom-right-radius: 10px;\\n}\\n.container__subcategorias__title {\\n  font-size: 2.5vh;\\n  font-weight: bold;\\n  padding: 0 4%;\\n  margin-bottom: 2%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2JzaXR5L1JlcG9zL090cm9zL0xvbGFTdG9yZS9zcmMvYXBwL3BhZ2VzL2J1c3F1ZWRhL2J1c3F1ZWRhLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvYnVzcXVlZGEvYnVzcXVlZGEucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZ0JBQUE7RUFDQSxXQUFBO0VBQ0EsY0FBQTtBQ0NKO0FEQUk7RUFDSSxtQkFBQTtFQUNBLGFBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLG9EQUFBO0VBQ0EsYUFBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0VBQ0EsTUFBQTtBQ0VSO0FERFE7RUFDSSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtFQUNBLHVCQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtFQUNBLDBDQUFBO0VBQ0Esb0RBQUE7QUNHWjtBRERRO0VBQ0ksaUJBQUE7RUFDQSw2QkFBQTtFQUNBLDZDQUFBO0VBQ0EsNkNBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EsVUFBQTtBQ0daO0FEQ1E7RUFDSSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsYUFBQTtFQUNBLGlCQUFBO0FDQ1o7QURBWTtFQUNJLGlCQUFBO0VBQ0EsMEJBQUE7RUFBQSx1QkFBQTtFQUFBLGtCQUFBO0VBQ0EsY0FBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLDZCQUFBO0VBQ0EsWUFBQTtFQUNBLGdDQUFBO0FDRWhCO0FER1E7RUFDSSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsYUFBQTtFQUNBLGlCQUFBO0FDRFoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9idXNxdWVkYS9idXNxdWVkYS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyIHtcbiAgICBtaW4taGVpZ2h0OiAxMDAlO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIHBhZGRpbmc6IDIyJSAwO1xuICAgICZfX3NlYXJjaCB7XG4gICAgICAgIGJhY2tncm91bmQ6ICNmN2Q4ZGQ7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgIGJveC1zaGFkb3c6IDBweCAwcHggM3B4IDFweCB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gICAgICAgIHBhZGRpbmc6IDQlIDA7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICB6LWluZGV4OiAxMDtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICAmX19pbnB1dCB7XG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICByaWdodDogLTIwcHg7XG4gICAgICAgICAgICBwYWRkaW5nOiA2cHggMTJweDtcbiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjQyODU3MTQzO1xuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gICAgICAgICAgICBib3gtc2hhZG93OiAwcHggMHB4IDNweCAxcHggdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICAgICAgICB9XG4gICAgICAgICZfX2ljb24ge1xuICAgICAgICAgICAgcGFkZGluZzogOXB4IDEycHg7XG4gICAgICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWxpZ2h0KTtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1ncmF5LWxpZ2h0KTtcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWlvbi1jb2xvci1ncmF5LWxpZ2h0KTtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICByaWdodDogOHB4O1xuICAgICAgICB9XG4gICAgfVxuICAgICZfX2NhdGVnb3JpYXMge1xuICAgICAgICAmX190aXRsZSB7XG4gICAgICAgICAgICBmb250LXNpemU6IDMuOHZoO1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgICAgICBwYWRkaW5nOiAwIDQlO1xuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMiU7XG4gICAgICAgICAgICAmX190ZXh0IHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICAgICAgICAgICAgICB3aWR0aDogZml0LWNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogMSUgNSU7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgICAgIGxlZnQ6IC0xOHB4O1xuICAgICAgICAgICAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAxMHB4O1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuODtcbiAgICAgICAgICAgICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMTBweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAmX19zdWJjYXRlZ29yaWFzIHtcbiAgICAgICAgJl9fdGl0bGUge1xuICAgICAgICAgICAgZm9udC1zaXplOiAyLjV2aDtcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICAgICAgcGFkZGluZzogMCA0JTtcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIlO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLmNvbnRhaW5lciB7XG4gIG1pbi1oZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAxMDAlO1xuICBwYWRkaW5nOiAyMiUgMDtcbn1cbi5jb250YWluZXJfX3NlYXJjaCB7XG4gIGJhY2tncm91bmQ6ICNmN2Q4ZGQ7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIGJveC1zaGFkb3c6IDBweCAwcHggM3B4IDFweCB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gIHBhZGRpbmc6IDQlIDA7XG4gIHdpZHRoOiAxMDAlO1xuICB6LWluZGV4OiAxMDtcbiAgdG9wOiAwO1xufVxuLmNvbnRhaW5lcl9fc2VhcmNoX19pbnB1dCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgcmlnaHQ6IC0yMHB4O1xuICBwYWRkaW5nOiA2cHggMTJweDtcbiAgbGluZS1oZWlnaHQ6IDEuNDI4NTcxNDM7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgYm94LXNoYWRvdzogMHB4IDBweCAzcHggMXB4IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbn1cbi5jb250YWluZXJfX3NlYXJjaF9faWNvbiB7XG4gIHBhZGRpbmc6IDlweCAxMnB4O1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWxpZ2h0KTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWdyYXktbGlnaHQpO1xuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1pb24tY29sb3ItZ3JheS1saWdodCk7XG4gIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgcmlnaHQ6IDhweDtcbn1cbi5jb250YWluZXJfX2NhdGVnb3JpYXNfX3RpdGxlIHtcbiAgZm9udC1zaXplOiAzLjh2aDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIHBhZGRpbmc6IDAgNCU7XG4gIG1hcmdpbi1ib3R0b206IDIlO1xufVxuLmNvbnRhaW5lcl9fY2F0ZWdvcmlhc19fdGl0bGVfX3RleHQge1xuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgd2lkdGg6IGZpdC1jb250ZW50O1xuICBwYWRkaW5nOiAxJSA1JTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBsZWZ0OiAtMThweDtcbiAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDEwcHg7XG4gIG9wYWNpdHk6IDAuODtcbiAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDEwcHg7XG59XG4uY29udGFpbmVyX19zdWJjYXRlZ29yaWFzX190aXRsZSB7XG4gIGZvbnQtc2l6ZTogMi41dmg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBwYWRkaW5nOiAwIDQlO1xuICBtYXJnaW4tYm90dG9tOiAyJTtcbn0iXX0= */\";","import { CategoryPage } from './../category/category.page';\nimport { Component, OnInit } from '@angular/core';\n\nimport { ProductoInterface } from '@interfaces/producto.interface';\nimport { FirebaseService } from '@services/firebase.service';\n\n@Component({\n\tselector: 'app-busqueda',\n\ttemplateUrl: './busqueda.page.html',\n\tstyleUrls: ['./busqueda.page.scss'],\n})\nexport class BusquedaPage implements OnInit {\n\n\tdataShow: any[] = [];\n\tdata: any[] = [];\n\tproductos: ProductoInterface[] = [];\n\tcategorias: any[] = [];\n\tquery: string = \"\";\n\n\tconstructor(private firebaseSvc: FirebaseService) { }\n\n\tngOnInit() {\n\t\tthis.init();\n\t}\n\n\tasync init() {\n\t\tthis.productos = await this.firebaseSvc.obtenerPromise('productos');\n\t\tthis.categorias = await this.firebaseSvc.obtenerPromise('categorias');\n\t\tthis.categorias.forEach(element => {\n\t\t\tconst data = { nombre: element.nombre, subcategorias: element.subcategorias };\n\t\t\tdata.subcategorias.forEach(sub => {\n\t\t\t\tsub['productos'] = this.productos.filter(producto => producto.idunicoSubcategoria == sub.idunico);\n\t\t\t});\n\t\t\tthis.data.push(data);\n\t\t});\n\t}\n\n\tdefinirSub(categoria) {\n\t\tlet dataReturn: Array<any> = [];\n\t\tlet subcategoria;\n\t\tcategoria.subcategorias.forEach(sub => {\n\t\t\tsubcategoria = {\n\t\t\t\tnombre: sub.nombre,\n\t\t\t\tproductos: sub.productos.filter(prod => {\n\t\t\t\t\treturn prod.nombre.toUpperCase().indexOf(this.query.toUpperCase()) >= 0;\n\t\t\t\t})\n\t\t\t}\n\t\t\tif (subcategoria.productos.length > 0) {\n\t\t\t\tdataReturn.push(subcategoria);\n\t\t\t}\n\t\t})\n\t\treturn dataReturn;\n\t}\n\n\tbuscar() {\n\t\tif (this.query == '') {\n\t\t\tthis.dataShow = [];\n\t\t} else {\n\t\t\tthis.dataShow = [];\n\t\t\tlet data: Array<any> = [];\n\t\t\tthis.data.forEach(cat => {\n\t\t\t\tlet subcategoria = this.definirSub(cat);\n\t\t\t\tthis.definirSub(cat);\n\t\t\t\tdata.push({\n\t\t\t\t\tnombre: cat.nombre,\n\t\t\t\t\tsubcategorias: subcategoria\n\t\t\t\t});\n\t\t\t});\n\t\t\tdata.forEach((cat, index) => {\n\t\t\t\tcat.subcategorias.forEach((sub, index) => {\n\t\t\t\t\tif (sub.productos.length > 0) {\n\t\t\t\t\t\tcat['tiene'] = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.dataShow = data;\n\t\t}\n\t}\n}\n"]}